{"version":3,"file":"static/js/220.9dddf8b3.chunk.js","mappings":"kOAqEA,UAhEoB,WAChB,OAA0BA,EAAAA,EAAAA,UAAS,CAC/BC,MAAO,GACPC,SAAS,EACTC,MAAO,OAHX,eAAOC,EAAP,KAAcC,EAAd,KAMQC,GAAOC,EAAAA,EAAAA,MAAPD,IAERE,EAAAA,EAAAA,YAAU,WACN,IAAMC,EAAU,mCAAG,oGAGXJ,GAAS,SAAAK,GAAS,yBACXA,GADW,IAEdR,SAAS,EACTC,MAAO,MAHO,IAHP,UAQUQ,EAAAA,EAAAA,IAAaL,GARvB,OAQLM,EARK,OASXP,GAAS,SAAAK,GACL,OAAO,kBACAA,GADP,IAEIT,MAAOW,EAAOC,SAErB,IAdU,gDAgBXR,GAAS,SAAAK,GAAS,yBACXA,GADW,IAEdP,MAAK,MAFS,IAhBP,yBAsBXE,GAAS,SAAAK,GACL,OAAO,kBACAA,GADP,IAEIR,SAAS,GAEhB,IA3BU,4EAAH,qDA8BhBO,GACH,GAAE,CAACH,EAAID,IAIR,IACMS,EADYV,EAAVH,MACec,KAAI,gBAAGT,EAAH,EAAGA,GAAIU,EAAP,EAAOA,OAAQC,EAAf,EAAeA,QAAf,OACvB,4BACI,wBAAKD,KACL,uBAAIC,MAFEX,EADa,IAO3B,OACI,iBAAKY,UAAU,YAAf,WACI,qCACA,wBAAKJ,MAKhB,C,sLCjEKK,EAAW,gCACXC,EAAU,mCAIHC,EAAY,mCAAG,wGAElBC,EAFkB,UAETH,EAFS,sCAE6BC,GAF7B,SAGDG,MAAMD,GAHL,cAGlBE,EAHkB,gBAILA,EAASC,OAJJ,cAIlBC,EAJkB,yBAKjBA,EAAKb,SALY,kCAOxBc,QAAQC,IAAR,KAAmB,gBAPK,0DAAH,qDAYZC,EAAY,mCAAG,WAAMC,GAAN,2FAElBR,EAFkB,UAETH,EAFS,gCAEuBC,EAFvB,iCAEuDU,EAFvD,iCAGDP,MAAMD,GAHL,cAGlBE,EAHkB,gBAILA,EAASC,OAJJ,cAIlBC,EAJkB,yBAKjBA,EAAKb,SALY,kCAOxBc,QAAQC,IAAR,MAPwB,0DAAH,sDAYZG,EAAS,mCAAG,WAAMC,GAAN,2FAEfV,EAFe,UAENH,EAFM,iBAEWa,EAFX,oBAE8BZ,EAF9B,4BAGEG,MAAMD,GAHR,cAGfE,EAHe,gBAIFA,EAASC,OAJP,cAIfC,EAJe,yBAKdA,GALc,kCAOrBC,QAAQC,IAAR,MAPqB,0DAAH,sDAYTK,EAAY,mCAAG,WAAMD,GAAN,2FAElBV,EAFkB,UAETH,EAFS,iBAEQa,EAFR,4BAEmCZ,EAFnC,4BAGDG,MAAMD,GAHL,cAGlBE,EAHkB,gBAILA,EAASC,OAJJ,cAIlBC,EAJkB,yBAKjBA,GALiB,kCAOxBC,QAAQC,IAAR,MAPwB,0DAAH,sDAYZjB,EAAY,mCAAG,WAAMqB,GAAN,2FAElBV,EAFkB,UAETH,EAFS,iBAEQa,EAFR,4BAEmCZ,EAFnC,mCAGDG,MAAMD,GAHL,cAGlBE,EAHkB,gBAILA,EAASC,OAJJ,cAIlBC,EAJkB,yBAKjBA,GALiB,kCAOxBC,QAAQC,IAAR,MAPwB,0DAAH,qD","sources":["Pages/ReviewsPage/ReviewsPage.jsx","components/FetchApi/FetchApi.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useParams, } from 'react-router-dom';\nimport { fetchReviews } from 'components/FetchApi/FetchApi';\n\n\nconst ReviewsPage = () => {\n    const [state, setState] = useState({\n        items: [],\n        loading: false,\n        error: null,\n    });\n\n    const { id } = useParams();\n    \n    useEffect(() => {\n        const fetchMovie = async () => {\n            \n            try {\n                setState(prevState => ({\n                    ...prevState,\n                    loading: true,\n                    error: null,\n                }))\n                const result = await fetchReviews(id);\n                setState(prevState => {\n                    return {\n                        ...prevState,\n                        items: result.results,\n                    }\n                })\n            } catch (error) {\n                setState(prevState => ({\n                    ...prevState,\n                    error,\n                }))\n            }\n            finally {\n                setState(prevState => {\n                    return {\n                        ...prevState,\n                        loading: false,\n                    }\n                })\n            }\n        };\n        fetchMovie();\n    }, [id, setState]);\n\n  \n\n    const { items } = state;\n    const elements = items.map(({ id, author, content  }) => (\n        <div key={id}>            \n            <h3>{author}</h3>\n            <p>{content}</p>\n        </div>\n    ));\n        \n    return (\n        <div className=\"container\">\n            <h4>Reviews</h4>\n            <ul>{elements}</ul>\n        </div>\n    \n    )\n   \n}\n\n\nexport default ReviewsPage;","\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '03779c52c93ea63ebe46db37a334d7d8';\n\n\n// метод получения массива популярных фильмов. Total_pages = 1000 по дефолту.\nexport const fetchPopular = async () => {\n  try {\n    const url = `${BASE_URL}trending/movie/day?api_key=${API_KEY}`;\n    const response = await fetch(url);\n    const data = await response.json();\n    return data.results;\n  } catch (error) {\n    console.log(error, 'fetchPopular');\n  }\n};\n\n// метод получения массива фильмов по запросу.\nexport const fetchByQuery = async searchQuery => {\n  try {\n    const url = `${BASE_URL}search/movie?api_key=${API_KEY}&language=en-US&query=${searchQuery}&include_adult=false`;\n    const response = await fetch(url);\n    const data = await response.json();\n    return data.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n// метод получения инфо о фильме по айдишке\nexport const fetchById = async movieId => {\n  try {\n    const url = `${BASE_URL}movie/${movieId}?api_key=${API_KEY}&language=en-US`;\n    const response = await fetch(url);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n// актеры\nexport const fetchCredits = async movieId => {\n  try {\n    const url = `${BASE_URL}movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`;\n    const response = await fetch(url);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n//отзывы\nexport const fetchReviews = async movieId => {\n  try {\n    const url = `${BASE_URL}movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`;\n    const response = await fetch(url);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};"],"names":["useState","items","loading","error","state","setState","id","useParams","useEffect","fetchMovie","prevState","fetchReviews","result","results","elements","map","author","content","className","BASE_URL","API_KEY","fetchPopular","url","fetch","response","json","data","console","log","fetchByQuery","searchQuery","fetchById","movieId","fetchCredits"],"sourceRoot":""}