{"version":3,"file":"static/js/965.cf13d323.chunk.js","mappings":"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","sources":["components/MovieSearchForm/MovieSearchForm.jsx","Pages/Movies/Movies.jsx","components/FetchApi/FetchApi.jsx","components/MovieList/MovieList.jsx"],"sourcesContent":["import { useState } from \"react\";\n\nconst MovieSearchForm = ({onSubmit}) => {\n    const [state, setState] = useState({\n        search:\"\"\n    });\n\n    const handleChange = ({ target }) => {\n        const { name, value } = target;\n        setState({\n            ...state,\n            [name]: value,\n        })\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        onSubmit({ ...state });\n        setState({\n            search: \"\"\n        })\n    };\n\n    return (\n        <form onSubmit={handleSubmit}>\n            <input name=\"search\" value = {state.search} onChange={handleChange} placeholder= \"Search\" required/>\n            <button>Search</button>\n        </form>\n    )\n}\n\n\nexport default MovieSearchForm;","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport MovieSearchForm from 'components/MovieSearchForm/MovieSearchForm';\nimport { fetchByQuery } from 'components/FetchApi/FetchApi';\nimport MovieList from 'components/MovieList/MovieList';\n// import styles from './Movies.module.css'\n\n\nconst Movies = () => {\n    const [state, setState] = useState({\n        items: [],\n        loading: false,\n        error: null,\n    })\n\n    const [searchParams, setSearchParams] = useSearchParams();\n\n    const search = searchParams.get(\"search\");\n    console.log(search)\n\n    useEffect(() => {\n        const fetchMovies = async () => {\n            try {\n                setState(prevState => ({\n                    ...prevState,\n                    loading: true,\n                }));\n                const data = await fetchByQuery(search);\n                setState(prevState => ({\n                    ...prevState,\n                    items: data,\n                }))\n            } catch (error) {\n                setState(prevState => ({\n                    ...prevState,\n                    error,\n                }))\n            }\n            finally {\n                setState(prevState => ({\n                    ...prevState,\n                    loading: false,\n                }))\n            }\n        }\n        if (search)\n            fetchMovies( )\n    }, [search])\n\n    const changeSearch = ({search}) => {\n        // setSearch(search)\n        setSearchParams({search})\n    }\n\n    const { items } = state;\n\n    return (\n        <div className=\"container\">\n            <h2>Movies page</h2>\n            <MovieSearchForm onSubmit={changeSearch} />\n            {items.length > 0 && <MovieList items={items} />}\n        </div>\n        \n    )\n}\nexport default Movies;","\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '03779c52c93ea63ebe46db37a334d7d8';\n\n\n// метод получения массива популярных фильмов. Total_pages = 1000 по дефолту.\nexport const fetchPopular = async () => {\n  try {\n    const url = `${BASE_URL}trending/movie/day?api_key=${API_KEY}`;\n    const response = await fetch(url);\n    const data = await response.json();\n    return data.results;\n  } catch (error) {\n    console.log(error, 'fetchPopular');\n  }\n};\n\n// метод получения массива фильмов по запросу.\nexport const fetchByQuery = async searchQuery => {\n  try {\n    const url = `${BASE_URL}search/movie?api_key=${API_KEY}&language=en-US&query=${searchQuery}&include_adult=false`;\n    const response = await fetch(url);\n    const data = await response.json();\n    return data.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n// метод получения инфо о фильме по айдишке\nexport const fetchById = async movieId => {\n  try {\n    const url = `${BASE_URL}movie/${movieId}?api_key=${API_KEY}&language=en-US`;\n    const response = await fetch(url);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n// актеры\nexport const fetchCredits = async movieId => {\n  try {\n    const url = `${BASE_URL}movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`;\n    const response = await fetch(url);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n//отзывы\nexport const fetchReviews = async movieId => {\n  try {\n    const url = `${BASE_URL}movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`;\n    const response = await fetch(url);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};","import { Link, useLocation } from 'react-router-dom';\n\n\nconst MovieList = ({ items }) => {\n    const location = useLocation();\n    // console.log(\"Movie List location\",location);\n    const elements = items.map(({ id, title }) => <li key={id}>\n        <Link state={{from: location}} to={`/movies/${id}`}>{title}</Link>\n</li>)\n    \n    return (\n            <ul>{elements}</ul>\n        )\n}\n\n  \nexport default MovieList;\nMovieList.defaultProps = {\n    items: []\n}"],"names":["onSubmit","useState","search","state","setState","e","preventDefault","name","value","onChange","target","placeholder","required","items","loading","error","useSearchParams","searchParams","setSearchParams","get","console","log","useEffect","fetchMovies","prevState","fetchByQuery","data","className","length","MovieList","BASE_URL","API_KEY","fetchPopular","url","fetch","response","json","results","searchQuery","fetchById","movieId","fetchCredits","fetchReviews","location","useLocation","elements","map","id","title","from","to","defaultProps"],"sourceRoot":""}